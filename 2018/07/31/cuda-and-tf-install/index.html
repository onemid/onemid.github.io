
<!DOCTYPE html>
<html lang="zh-tw">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Nothing to Do">
    <title>Compiling TensorFlow-GPU on Ubuntu 16.04 with CUDA 9.1(9.2) and Python3 - Nothing to Do</title>
    <meta name="author" content="Gary Gong">
    
    
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Gary Gong","sameAs":["https://github.com/onemid/","https://www.facebook.com/yjgong85","https://www.linkedin.com/in/onemid85/","yijhong@hotmail.com.tw"],"image":"https://www.gravatar.com/avatar/b93d499c9197202a5fab6afb8ebe66d1"},"articleBody":"Install CUDA:https://developer.nvidia.com/cuda-downloads?target_os=Linux&amp;target_arch=ppc64le&amp;target_distro=Ubuntu&amp;target_version=1604&amp;target_type=deblocal\n\nHere, we used “Linux” -&gt; “ppc64le”(64-bit) -&gt; “16.04” -&gt; “deb(local)”, and downloaded the “Base Installer” (approx. 1.0GB)\n\nFollowing the guidance which given by the nVidia webpage to install the CUDA.\n\nDuring installation, the installation program will ask you to create a “==symbolic link==” of CUDA library folder; remember to create.\n\nCreate the environment variable to make these work.\n1234export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/cuda/lib64:/usr/ local/cuda/extras/CUPTI/lib64:/usr/lib/nvidia-381# Remember that nvidia-381 is the driver version, if you install 390, please modifiy it to nvidia-390export CUDA_HOME=/usr/local/cudaexport PATH=$PATH:/usr/local/cuda/bin\n\nExecute source ~/.bashrc (source ~/.zshrc if you use zsh instead of bash) to apply the environment variable.\n\n\nInstall cuDNN:https://developer.nvidia.com/rdp/cudnn-download\n==You need have a nVidia developer membership account (free to signup) to coutinue to download the cuDNN package.==\n\nAfter logining to the download webpage, select the corresponding CUDA version.\n\nSelect cuDNN v7.?.? Library for Linux\n\nUnzip the package and copy the file into the system folder by following command:\n12345tar -zxvf cudnn-9.?-linux-x64-v7.?.tgzsudo cp cuda/include/cudnn.h /usr/local/cuda/include/sudo cp cuda/lib64/libcudnn* /usr/local/cuda/lib64/ -dsudo chmod a+r /usr/local/cuda/include/cudnn.hsudo chmod a+r /usr/local/cuda/lib64/libcudnn*\n\n\nFirst Check:\nCheck your CUDA version by following command:\n1cat /usr/local/cuda/version.txt\n\nCheck your cuDNN version by following command:\n1cat /usr/local/cuda/include/cudnn.h | grep CUDNN_MAJOR -A 2\n​\n\n\nPreparing Your Dependency:123sudo apt-get install python3-numpy python3-dev python3-pip python3-wheelsudo apt-get install cuda-command-line-tools export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/cuda/extras/CUPTI/lib64\nClone the Tensorflow:123git clone https://github.com/tensorflow/tensorflow cd tensorflowgit checkout Branch # where Branch is the desired branch\nConfigure Your Tensorflow:1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283cd tensorflow./configureYou have bazel 0.11.1 installed.Please specify the location of python. [Default is /home/garygone/python-dev/dl/bin/python]:Traceback (most recent call last):  File \"&lt;string&gt;\", line 1, in &lt;module&gt;AttributeError: module 'site' has no attribute 'getsitepackages'Found possible Python library paths:  /home/garygone/python-dev/dl/lib/python3.5/site-packagesPlease input the desired Python library path to use.  Default is [/home/garygone/python-dev/dl/lib/python3.5/site-packages]Do you wish to build TensorFlow with jemalloc as malloc support? [Y/n]:jemalloc as malloc support will be enabled for TensorFlow.Do you wish to build TensorFlow with Google Cloud Platform support? [Y/n]: nNo Google Cloud Platform support will be enabled for TensorFlow.Do you wish to build TensorFlow with Hadoop File System support? [Y/n]:Hadoop File System support will be enabled for TensorFlow.Do you wish to build TensorFlow with Amazon S3 File System support? [Y/n]: nNo Amazon S3 File System support will be enabled for TensorFlow.Do you wish to build TensorFlow with Apache Kafka Platform support? [y/N]:No Apache Kafka Platform support will be enabled for TensorFlow.Do you wish to build TensorFlow with XLA JIT support? [y/N]: YXLA JIT support will be enabled for TensorFlow.Do you wish to build TensorFlow with GDR support? [y/N]:No GDR support will be enabled for TensorFlow.Do you wish to build TensorFlow with VERBS support? [y/N]:No VERBS support will be enabled for TensorFlow.Do you wish to build TensorFlow with OpenCL SYCL support? [y/N]:No OpenCL SYCL support will be enabled for TensorFlow.Do you wish to build TensorFlow with CUDA support? [y/N]: YCUDA support will be enabled for TensorFlow.Please specify the CUDA SDK version you want to use, e.g. 7.0. [Leave empty to default to CUDA 9.0]: 9.1Please specify the location where CUDA 9.1 toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]:Please specify the cuDNN version you want to use. [Leave empty to default to cuDNN 7.0]:Please specify the location where cuDNN 7 library is installed. Refer to README.md for more details. [Default is /usr/local/cuda]:Do you wish to build TensorFlow with TensorRT support? [y/N]:No TensorRT support will be enabled for TensorFlow.Please specify a list of comma-separated Cuda compute capabilities you want to build with.You can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.Please note that each additional compute capability significantly increases your build time and binary size. [Default is: 6.1,6.1,6.1,6.1,6.1,6.1,6.1,6.1]Do you want to use clang as CUDA compiler? [y/N]:nvcc will be used as CUDA compiler.Please specify which gcc should be used by nvcc as the host compiler. [Default is /usr/bin/gcc]:Do you wish to build TensorFlow with MPI support? [y/N]:No MPI support will be enabled for TensorFlow.Please specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native]:Would you like to interactively configure ./WORKSPACE for Android builds? [y/N]:Not configuring the WORKSPACE for Android builds.Preconfigured Bazel build configs. You can use any of the below by adding \"--config=&lt;&gt;\" to your build command. See tools/bazel.rc for more details.        --config=mkl            # Build with MKL support.        --config=monolithic     # Config for mostly static monolithic build.Configuration finished\nBuild Your Tensorflow with gcc5:1bazel build --config=opt --config=cuda --cxxopt=\"-D_GLIBCXX_USE_CXX11_ABI=0\" //tensorflow/tools/pip_package:build_pip_package\nIf build sucessfully:\n1bazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg\nand exec.\n1pip3 install /tmp/tensorflow_pkg/tensorflow-1.7.0-cp35-cp35m-linux_x86_64.whl\n(Please make sure you are in virtualenv if you want to install this in your virtualenv and do not use sudo.)\nWhat I have seen:\nhttps://www.tensorflow.org/install/install_sources : Installing TF from Source\nHow to find which version of TensorFlow is installed in my system?\nhttps://github.com/tensorflow/tensorflow/issues/15604 : ImportError: libcublas.so.9.0: cannot open shared object file: No such file or directory\nHow to get the cuda version?\n[[NV] How to check CUDA and cuDNN version] (https://medium.com/@changrongko/nv-how-to-check-cuda-and-cudnn-version-e05aa21daf6c) : \nhttp://windywinter.cn/2018/03/10/ML/tensorflow-gpu版本的编译/ : tensorflow-gpu版本的编译\n学习Tensorflow(1)\n\n","dateCreated":"2018-07-31T14:04:03+08:00","dateModified":"2018-07-31T14:09:08+08:00","datePublished":"2018-07-31T14:04:03+08:00","description":"","headline":"Compiling TensorFlow-GPU on Ubuntu 16.04 with CUDA 9.1(9.2) and Python3","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"https://onemid.github.io/2018/07/31/cuda-and-tf-install/"},"publisher":{"@type":"Organization","name":"Gary Gong","sameAs":["https://github.com/onemid/","https://www.facebook.com/yjgong85","https://www.linkedin.com/in/onemid85/","yijhong@hotmail.com.tw"],"image":"https://www.gravatar.com/avatar/b93d499c9197202a5fab6afb8ebe66d1","logo":{"@type":"ImageObject","url":"https://www.gravatar.com/avatar/b93d499c9197202a5fab6afb8ebe66d1"}},"url":"https://onemid.github.io/2018/07/31/cuda-and-tf-install/","keywords":"tensorflow, cuda"}</script>
    <meta name="description" content="Install CUDA:https://developer.nvidia.com/cuda-downloads?target_os=Linux&amp;amp;target_arch=ppc64le&amp;amp;target_distro=Ubuntu&amp;amp;target_version=1604&amp;amp;target_type=deblocal  Here, we used “Linux” -&amp;gt;">
<meta name="keywords" content="tensorflow,cuda">
<meta property="og:type" content="blog">
<meta property="og:title" content="Compiling TensorFlow-GPU on Ubuntu 16.04 with CUDA 9.1(9.2) and Python3">
<meta property="og:url" content="https://onemid.github.io/2018/07/31/cuda-and-tf-install/index.html">
<meta property="og:site_name" content="Nothing to Do">
<meta property="og:description" content="Install CUDA:https://developer.nvidia.com/cuda-downloads?target_os=Linux&amp;amp;target_arch=ppc64le&amp;amp;target_distro=Ubuntu&amp;amp;target_version=1604&amp;amp;target_type=deblocal  Here, we used “Linux” -&amp;gt;">
<meta property="og:locale" content="zh-tw">
<meta property="og:updated_time" content="2018-07-31T06:09:08.958Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Compiling TensorFlow-GPU on Ubuntu 16.04 with CUDA 9.1(9.2) and Python3">
<meta name="twitter:description" content="Install CUDA:https://developer.nvidia.com/cuda-downloads?target_os=Linux&amp;amp;target_arch=ppc64le&amp;amp;target_distro=Ubuntu&amp;amp;target_version=1604&amp;amp;target_type=deblocal  Here, we used “Linux” -&amp;gt;">
    
    
        
    
    
        <meta property="og:image" content="https://www.gravatar.com/avatar/c15bce1aa244179bb7de3768fec5cd1a?s=640"/>
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style-do39qdjvpypfbfath0mrmcnooyjedtpmaqbgurcvkqwdiyt2nxjbasyzwng0.min.css">
    <!--STYLES END-->
    

    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
    

<header id="header" data-behavior="4">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a class="header-title-link" href="/ ">Nothing to Do</a>
    </div>
    
        
            <a  class="header-right-picture "
                href="#about">
        
        
            <img class="header-picture" src="https://www.gravatar.com/avatar/c15bce1aa244179bb7de3768fec5cd1a?s=90" alt="作者的圖片"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->


    

<nav id="sidebar" data-behavior="4">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a href="/#about">
                    <img class="sidebar-profile-picture" src="https://www.gravatar.com/avatar/c15bce1aa244179bb7de3768fec5cd1a?s=110" alt="作者的圖片"/>
                </a>
                <h4 class="sidebar-profile-name">Gary Gong</h4>
                
                    <h5 class="sidebar-profile-bio"><p>設計、深度學習、氣象三重人格</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/ "
                            
                            title="首頁"
                        >
                    
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">首頁</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-categories"
                            
                            title="分類"
                        >
                    
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">分類</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-tags"
                            
                            title="標籤"
                        >
                    
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">標籤</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-archives"
                            
                            title="所有文章"
                        >
                    
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">所有文章</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link open-algolia-search"
                             href="#search"
                            
                            title="搜尋"
                        >
                    
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">搜尋</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="#about"
                            
                            title="關於"
                        >
                    
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">關於</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://github.com/onemid/" target="_blank" rel="noopener" title="GitHub">
                    
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://www.facebook.com/yjgong85" target="_blank" rel="noopener" title="Facebook">
                    
                        <i class="sidebar-button-icon fab fa-facebook" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Facebook</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://www.linkedin.com/in/onemid85/" target="_blank" rel="noopener" title="LinkedIn">
                    
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/yijhong@hotmail.com.tw"
                            title="Email"
                        >
                    
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Email</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="4"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            Compiling TensorFlow-GPU on Ubuntu 16.04 with CUDA 9.1(9.2) and Python3
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2018-07-31T14:04:03+08:00">
	
		    7月 31, 2018
    	
    </time>
    
        <span>分類 </span>
        
    <a class="category-link" href="/categories/deeplearning/">deeplearning</a>


    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <h2 id="Install-CUDA"><a href="#Install-CUDA" class="headerlink" title="Install CUDA:"></a>Install CUDA:</h2><p><a href="https://developer.nvidia.com/cuda-downloads?target_os=Linux&amp;target_arch=ppc64le&amp;target_distro=Ubuntu&amp;target_version=1604&amp;target_type=deblocal" target="_blank" rel="noopener">https://developer.nvidia.com/cuda-downloads?target_os=Linux&amp;target_arch=ppc64le&amp;target_distro=Ubuntu&amp;target_version=1604&amp;target_type=deblocal</a></p>
<ol>
<li><p>Here, we used “Linux” -&gt; “ppc64le”(64-bit) -&gt; “16.04” -&gt; “deb(local)”, and downloaded the “Base Installer” (approx. 1.0GB)</p>
</li>
<li><p>Following the guidance which given by the nVidia webpage to install the CUDA.</p>
</li>
<li><p>During installation, the installation program will ask you to create a “==symbolic link==” of CUDA library folder; remember to create.</p>
</li>
<li><p>Create the environment variable to make these work.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> LD_LIBRARY_PATH=<span class="variable">$LD_LIBRARY_PATH</span>:/usr/<span class="built_in">local</span>/cuda/lib64:/usr/ <span class="built_in">local</span>/cuda/extras/CUPTI/lib64:/usr/lib/nvidia-381</span><br><span class="line"><span class="comment"># Remember that nvidia-381 is the driver version, if you install 390, please modifiy it to nvidia-390</span></span><br><span class="line"><span class="built_in">export</span> CUDA_HOME=/usr/<span class="built_in">local</span>/cuda</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:/usr/<span class="built_in">local</span>/cuda/bin</span><br></pre></td></tr></table></figure>
</li>
<li><p>Execute <code>source ~/.bashrc</code> (<code>source ~/.zshrc</code> if you use zsh instead of bash) to apply the environment variable.</p>
</li>
</ol>
<h2 id="Install-cuDNN"><a href="#Install-cuDNN" class="headerlink" title="Install cuDNN:"></a>Install cuDNN:</h2><p><a href="https://developer.nvidia.com/rdp/cudnn-download" target="_blank" rel="noopener">https://developer.nvidia.com/rdp/cudnn-download</a></p>
<p>==You need have a nVidia developer membership account (free to signup) to coutinue to download the cuDNN package.==</p>
<ol>
<li><p>After logining to the download webpage, select the corresponding CUDA version.</p>
</li>
<li><p>Select <code>cuDNN v7.?.? Library for Linux</code></p>
</li>
<li><p>Unzip the package and copy the file into the system folder by following command:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf cudnn-9.?-linux-x64-v7.?.tgz</span><br><span class="line">sudo cp cuda/include/cudnn.h /usr/<span class="built_in">local</span>/cuda/include/</span><br><span class="line">sudo cp cuda/lib64/libcudnn* /usr/<span class="built_in">local</span>/cuda/lib64/ -d</span><br><span class="line">sudo chmod a+r /usr/<span class="built_in">local</span>/cuda/include/cudnn.h</span><br><span class="line">sudo chmod a+r /usr/<span class="built_in">local</span>/cuda/lib64/libcudnn*</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="First-Check"><a href="#First-Check" class="headerlink" title="First Check:"></a>First Check:</h2><ol>
<li><p>Check your CUDA version by following command:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /usr/<span class="built_in">local</span>/cuda/version.txt</span><br></pre></td></tr></table></figure>
</li>
<li><p>Check your cuDNN version by following command:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /usr/<span class="built_in">local</span>/cuda/include/cudnn.h | grep CUDNN_MAJOR -A 2</span><br></pre></td></tr></table></figure>
<p>​</p>
</li>
</ol>
<h2 id="Preparing-Your-Dependency"><a href="#Preparing-Your-Dependency" class="headerlink" title="Preparing Your Dependency:"></a>Preparing Your Dependency:</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install python3-numpy python3-dev python3-pip python3-wheel</span><br><span class="line">sudo apt-get install cuda-command-line-tools </span><br><span class="line"><span class="built_in">export</span> LD_LIBRARY_PATH=<span class="variable">$LD_LIBRARY_PATH</span>:/usr/<span class="built_in">local</span>/cuda/extras/CUPTI/lib64</span><br></pre></td></tr></table></figure>
<h2 id="Clone-the-Tensorflow"><a href="#Clone-the-Tensorflow" class="headerlink" title="Clone the Tensorflow:"></a>Clone the Tensorflow:</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/tensorflow/tensorflow </span><br><span class="line"><span class="built_in">cd</span> tensorflow</span><br><span class="line">git checkout Branch <span class="comment"># where Branch is the desired branch</span></span><br></pre></td></tr></table></figure>
<h2 id="Configure-Your-Tensorflow"><a href="#Configure-Your-Tensorflow" class="headerlink" title="Configure Your Tensorflow:"></a>Configure Your Tensorflow:</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> tensorflow</span><br><span class="line">./configure</span><br><span class="line"></span><br><span class="line">You have bazel 0.11.1 installed.</span><br><span class="line">Please specify the location of python. [Default is /home/garygone/python-dev/dl/bin/python]:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">"&lt;string&gt;"</span>, line 1, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">AttributeError: module <span class="string">'site'</span> has no attribute <span class="string">'getsitepackages'</span></span><br><span class="line">Found possible Python library paths:</span><br><span class="line">  /home/garygone/python-dev/dl/lib/python3.5/site-packages</span><br><span class="line">Please input the desired Python library path to use.  Default is [/home/garygone/python-dev/dl/lib/python3.5/site-packages]</span><br><span class="line"></span><br><span class="line">Do you wish to build TensorFlow with jemalloc as malloc support? [Y/n]:</span><br><span class="line">jemalloc as malloc support will be enabled <span class="keyword">for</span> TensorFlow.</span><br><span class="line"></span><br><span class="line">Do you wish to build TensorFlow with Google Cloud Platform support? [Y/n]: n</span><br><span class="line">No Google Cloud Platform support will be enabled <span class="keyword">for</span> TensorFlow.</span><br><span class="line"></span><br><span class="line">Do you wish to build TensorFlow with Hadoop File System support? [Y/n]:</span><br><span class="line">Hadoop File System support will be enabled <span class="keyword">for</span> TensorFlow.</span><br><span class="line"></span><br><span class="line">Do you wish to build TensorFlow with Amazon S3 File System support? [Y/n]: n</span><br><span class="line">No Amazon S3 File System support will be enabled <span class="keyword">for</span> TensorFlow.</span><br><span class="line"></span><br><span class="line">Do you wish to build TensorFlow with Apache Kafka Platform support? [y/N]:</span><br><span class="line">No Apache Kafka Platform support will be enabled <span class="keyword">for</span> TensorFlow.</span><br><span class="line"></span><br><span class="line">Do you wish to build TensorFlow with XLA JIT support? [y/N]: Y</span><br><span class="line">XLA JIT support will be enabled <span class="keyword">for</span> TensorFlow.</span><br><span class="line"></span><br><span class="line">Do you wish to build TensorFlow with GDR support? [y/N]:</span><br><span class="line">No GDR support will be enabled <span class="keyword">for</span> TensorFlow.</span><br><span class="line"></span><br><span class="line">Do you wish to build TensorFlow with VERBS support? [y/N]:</span><br><span class="line">No VERBS support will be enabled <span class="keyword">for</span> TensorFlow.</span><br><span class="line"></span><br><span class="line">Do you wish to build TensorFlow with OpenCL SYCL support? [y/N]:</span><br><span class="line">No OpenCL SYCL support will be enabled <span class="keyword">for</span> TensorFlow.</span><br><span class="line"></span><br><span class="line">Do you wish to build TensorFlow with CUDA support? [y/N]: Y</span><br><span class="line">CUDA support will be enabled <span class="keyword">for</span> TensorFlow.</span><br><span class="line"></span><br><span class="line">Please specify the CUDA SDK version you want to use, e.g. 7.0. [Leave empty to default to CUDA 9.0]: 9.1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Please specify the location <span class="built_in">where</span> CUDA 9.1 toolkit is installed. Refer to README.md <span class="keyword">for</span> more details. [Default is /usr/<span class="built_in">local</span>/cuda]:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Please specify the cuDNN version you want to use. [Leave empty to default to cuDNN 7.0]:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Please specify the location <span class="built_in">where</span> cuDNN 7 library is installed. Refer to README.md <span class="keyword">for</span> more details. [Default is /usr/<span class="built_in">local</span>/cuda]:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Do you wish to build TensorFlow with TensorRT support? [y/N]:</span><br><span class="line">No TensorRT support will be enabled <span class="keyword">for</span> TensorFlow.</span><br><span class="line"></span><br><span class="line">Please specify a list of comma-separated Cuda compute capabilities you want to build with.</span><br><span class="line">You can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.</span><br><span class="line">Please note that each additional compute capability significantly increases your build time and binary size. [Default is: 6.1,6.1,6.1,6.1,6.1,6.1,6.1,6.1]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Do you want to use clang as CUDA compiler? [y/N]:</span><br><span class="line">nvcc will be used as CUDA compiler.</span><br><span class="line"></span><br><span class="line">Please specify <span class="built_in">which</span> gcc should be used by nvcc as the host compiler. [Default is /usr/bin/gcc]:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Do you wish to build TensorFlow with MPI support? [y/N]:</span><br><span class="line">No MPI support will be enabled <span class="keyword">for</span> TensorFlow.</span><br><span class="line"></span><br><span class="line">Please specify optimization flags to use during compilation when bazel option <span class="string">"--config=opt"</span> is specified [Default is -march=native]:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Would you like to interactively configure ./WORKSPACE <span class="keyword">for</span> Android builds? [y/N]:</span><br><span class="line">Not configuring the WORKSPACE <span class="keyword">for</span> Android builds.</span><br><span class="line"></span><br><span class="line">Preconfigured Bazel build configs. You can use any of the below by adding <span class="string">"--config=&lt;&gt;"</span> to your build <span class="built_in">command</span>. See tools/bazel.rc <span class="keyword">for</span> more details.</span><br><span class="line">        --config=mkl            <span class="comment"># Build with MKL support.</span></span><br><span class="line">        --config=monolithic     <span class="comment"># Config for mostly static monolithic build.</span></span><br><span class="line">Configuration finished</span><br></pre></td></tr></table></figure>
<h2 id="Build-Your-Tensorflow-with-gcc5"><a href="#Build-Your-Tensorflow-with-gcc5" class="headerlink" title="Build Your Tensorflow with gcc5:"></a>Build Your Tensorflow with gcc5:</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bazel build --config=opt --config=cuda --cxxopt=<span class="string">"-D_GLIBCXX_USE_CXX11_ABI=0"</span> //tensorflow/tools/pip_package:build_pip_package</span><br></pre></td></tr></table></figure>
<p>If build sucessfully:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg</span><br></pre></td></tr></table></figure>
<p>and exec.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install /tmp/tensorflow_pkg/tensorflow-1.7.0-cp35-cp35m-linux_x86_64.whl</span><br></pre></td></tr></table></figure>
<p>(Please make sure you are in virtualenv if you want to install this in your virtualenv and do not use sudo.)</p>
<h2 id="What-I-have-seen"><a href="#What-I-have-seen" class="headerlink" title="What I have seen:"></a>What I have seen:</h2><ol>
<li><a href="https://www.tensorflow.org/install/install_sources" target="_blank" rel="noopener">https://www.tensorflow.org/install/install_sources</a> : Installing TF from Source</li>
<li><a href="https://stackoverflow.com/questions/38549253/how-to-find-which-version-of-tensorflow-is-installed-in-my-system" target="_blank" rel="noopener">How to find which version of TensorFlow is installed in my system?</a></li>
<li><a href="https://github.com/tensorflow/tensorflow/issues/15604" target="_blank" rel="noopener">https://github.com/tensorflow/tensorflow/issues/15604</a> : ImportError: libcublas.so.9.0: cannot open shared object file: No such file or directory</li>
<li><a href="https://stackoverflow.com/questions/9727688/how-to-get-the-cuda-version" target="_blank" rel="noopener">How to get the cuda version?</a></li>
<li>[[NV] How to check CUDA and cuDNN version] (<a href="https://medium.com/@changrongko/nv-how-to-check-cuda-and-cudnn-version-e05aa21daf6c" target="_blank" rel="noopener">https://medium.com/@changrongko/nv-how-to-check-cuda-and-cudnn-version-e05aa21daf6c</a>) : </li>
<li><a href="http://windywinter.cn/2018/03/10/ML/tensorflow-gpu版本的编译/" target="_blank" rel="noopener">http://windywinter.cn/2018/03/10/ML/tensorflow-gpu版本的编译/</a> : tensorflow-gpu版本的编译</li>
<li><a href="http://jksoftcn.com/xue-xi-tensorflow1.html" target="_blank" rel="noopener">学习Tensorflow(1)</a></li>
</ol>

            

        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">標籤</span><br/>
                
    <a class="tag tag--primary tag--small t-link" href="/tags/cuda/">cuda</a> <a class="tag tag--primary tag--small t-link" href="/tags/tensorflow/">tensorflow</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--disabled">
                
                    <i class="fa fa-angle-left" aria-hidden="true"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">上一篇</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--disabled">
                
                    <span class="hide-xs hide-sm text-small icon-mr">下一篇</span>
                    <i class="fa fa-angle-right" aria-hidden="true"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Diesen Beitrag teilen">
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://onemid.github.io/2018/07/31/cuda-and-tf-install/" title="分享到 Facebook">
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://onemid.github.io/2018/07/31/cuda-and-tf-install/" title="分享到 Twitter">
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https://onemid.github.io/2018/07/31/cuda-and-tf-install/" title="分享到 Google+">
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Nach oben">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2018 Gary Gong. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--disabled">
                
                    <i class="fa fa-angle-left" aria-hidden="true"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">上一篇</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--disabled">
                
                    <span class="hide-xs hide-sm text-small icon-mr">下一篇</span>
                    <i class="fa fa-angle-right" aria-hidden="true"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Diesen Beitrag teilen">
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://onemid.github.io/2018/07/31/cuda-and-tf-install/" title="分享到 Facebook">
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://onemid.github.io/2018/07/31/cuda-and-tf-install/" title="分享到 Twitter">
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https://onemid.github.io/2018/07/31/cuda-and-tf-install/" title="分享到 Google+">
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Nach oben">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                <div id="share-options-bar" class="share-options-bar" data-behavior="4">
    <i id="btn-close-shareoptions" class="fa fa-times"></i>
    <ul class="share-options">
        
            
            
            <li class="share-option">
                <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://onemid.github.io/2018/07/31/cuda-and-tf-install/">
                    <i class="fab fa-facebook" aria-hidden="true"></i><span>分享到 Facebook</span>
                </a>
            </li>
        
            
            
            <li class="share-option">
                <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=https://onemid.github.io/2018/07/31/cuda-and-tf-install/">
                    <i class="fab fa-twitter" aria-hidden="true"></i><span>分享到 Twitter</span>
                </a>
            </li>
        
            
            
            <li class="share-option">
                <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=https://onemid.github.io/2018/07/31/cuda-and-tf-install/">
                    <i class="fab fa-google-plus" aria-hidden="true"></i><span>分享到 Google+</span>
                </a>
            </li>
        
    </ul>
</div>

            
        </div>
        


    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="https://www.gravatar.com/avatar/c15bce1aa244179bb7de3768fec5cd1a?s=110" alt="作者的圖片"/>
        
            <h4 id="about-card-name">Gary Gong</h4>
        
            <div id="about-card-bio"><p>設計、深度學習、氣象三重人格</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>Currently N/A</p>

            </div>
        
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->
<script src="/assets/js/script-2viyvycftmfpcli8fzempa1zpcnhhlhoksidxhqwexv6tgvxi9zelhkn3gxh.min.js"></script>
<!--SCRIPTS END-->

    



    </body>
</html>
